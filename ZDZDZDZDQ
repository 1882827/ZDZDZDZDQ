local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local whitelist = {
    ["SadNii4"] = true,
    ["82iwkwjw3"] = true,
    ["EternaIKing_ofc"] = true,
    ["EternalQueen_ofc"] = true,
    ["OfEternal_king"] = true,
    ["OfEternal_queen"] = true,
    ["PROPLAYER292827"] = true,
    ["ilvieharbor73"] = true,
    ["TOQUIO_94"] = true,
    ["TOQUIO_944"] = true,
    ["ARMY_S0LDIER8"] = true,
    ["dorrido13"] = true,
    ["PEBUGADOTUTORIAL"] = true,
    ["TheLittle8Prince"] = true,
    ["Italo444hzx"] = true,
    ["NOOB_SEUPESADELO"] = true,
    ["Voa_Passarinho8"] = true,
    ["SadNii0"] = true,
    ["NeezXIX"] = true,
    ["Nicke_Nii"] = true,
    ["KillMachineFatality"] = true,
    ["Kansas_Girl8"] = true,
    ["Maveick01"] = true,
    ["XXDuquesa_julianaXX"] = true,
    ["User25"] = true,
    ["User26"] = true,
    ["User27"] = true,
    ["User28"] = true,
    ["User29"] = true,
    ["User30"] = true,
    ["User31"] = true,
    ["User32"] = true,
    ["User33"] = true,
    ["User34"] = true,
    ["User35"] = true,
    ["User36"] = true,
    ["User37"] = true,
    ["User38"] = true,
    ["User39"] = true
}

if not whitelist[LocalPlayer.Name] then
    LocalPlayer:Kick("Voce nao esta na whitelist para usar este script.")
    return
end

print("Usuario autorizado:", LocalPlayer.Name)

local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/MlFrvWM/BBLT81/main/BL81827TC", true))()

local window = library:AddWindow("Sad | Boost Gifter", {
    main_color = Color3.fromRGB(61, 10, 161),
    min_size = Vector2.new(505, 420),
    can_resize = false,
})

local GifterTab = window:AddTab("Gifter")

GifterTab:AddLabel("Get On a Machine For Less Lag").TextSize = 26

local nothingLabel = GifterTab:AddLabel("")

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local proteinEggLabel = GifterTab:AddLabel("Protein Eggs: 0")
proteinEggLabel.TextSize = 20
local tropicalShakeLabel = GifterTab:AddLabel("Tropical Shakes: 0")
tropicalShakeLabel.TextSize = 20

local function updateItemCount()
    local proteinEggCount = 0
    local tropicalShakeCount = 0
    
    local backpack = Players.LocalPlayer:FindFirstChild("Backpack")
    if backpack then
        for _, item in ipairs(backpack:GetChildren()) do
            if item.Name == "Protein Egg" then
                proteinEggCount = proteinEggCount + 1
            elseif item.Name == "Tropical Shake" then
                tropicalShakeCount = tropicalShakeCount + 1
            end
        end
    end
    
    proteinEggLabel.Text = "Protein Eggs: " .. proteinEggCount
    tropicalShakeLabel.Text = "Tropical Shakes: " .. tropicalShakeCount
end

local nothingLabel = GifterTab:AddLabel("")

GifterTab:AddLabel("Egg Gifter").TextSize = 25

local eggPlayerDropdown = GifterTab:AddDropdown("Choose Player for Eggs", function(name)
    selectedEggPlayer = Players:FindFirstChild(name)
end)
local selectedEggPlayer = nil
local eggCount = 0

GifterTab:AddTextBox("Egg Amount", function(Text)
    eggCount = tonumber(Text) or 0
end)

GifterTab:AddButton("Gift Eggs", function()
    if selectedEggPlayer and eggCount and eggCount > 0 then
        local item = Players.LocalPlayer.Backpack:FindFirstChild("Protein Egg")
        if item then
            for i = 1, eggCount do
                local args = {
                    [1] = "giftRequest",
                    [2] = selectedEggPlayer,
                    [3] = item
                }
                ReplicatedStorage.rEvents.giftRemote:InvokeServer(unpack(args))
                task.wait(0.1)
            end
        else
            warn("No Protein Eggs found in inventory!")
        end
    end
end)

local nothingLabel = GifterTab:AddLabel("")

GifterTab:AddLabel("Shake Gifter").TextSize = 25

local shakePlayerDropdown = GifterTab:AddDropdown("Choose Player for Shakes", function(name)
    selectedShakePlayer = Players:FindFirstChild(name)
end)
local selectedShakePlayer = nil
local shakeCount = 0

GifterTab:AddTextBox("Shake Amount", function(Text)
    shakeCount = tonumber(Text) or 0
end)

GifterTab:AddButton("Gift Shakes", function()
    if selectedShakePlayer and shakeCount and shakeCount > 0 then
        local item = Players.LocalPlayer.Backpack:FindFirstChild("Tropical Shake")
        if item then
            for i = 1, shakeCount do
                local args = {
                    [1] = "giftRequest",
                    [2] = selectedShakePlayer,
                    [3] = item
                }
                ReplicatedStorage.rEvents.giftRemote:InvokeServer(unpack(args))
                task.wait(0.1)
            end
        else
            warn("No Tropical Shakes found in inventory!")
        end
    end
end)

local function updateDropdowns()
    eggPlayerDropdown:Clear()
    shakePlayerDropdown:Clear()
    
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then
            eggPlayerDropdown:Add(player.Name)
            shakePlayerDropdown:Add(player.Name)
        end
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= Players.LocalPlayer then
        eggPlayerDropdown:Add(player.Name)
        shakePlayerDropdown:Add(player.Name)
    end
end)

Players.PlayerRemoving:Connect(function(player)
    eggPlayerDropdown:Remove(player.Name)
    shakePlayerDropdown:Remove(player.Name)
end)

updateDropdowns()
task.spawn(function()
    while true do
        updateItemCount()
        task.wait(7.5)
    end
end)
